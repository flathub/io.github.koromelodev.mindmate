app-id: io.github.koromelodev.mindmate
runtime: org.kde.Platform
runtime-version: '6.5'
sdk: org.kde.Sdk
command: MindMate
finish-args:
  - --share=ipc
  - --socket=wayland
  - --socket=fallback-x11
  - --socket=pulseaudio
  - --device=dri
  - --share=network
modules:
  - name: MindMate
    buildsystem: cmake-ninja
    config-opts:
      - -DCMAKE_BUILD_TYPE=MinSizeRel
      - -DFLATPAK=true
    sources:
      - type: archive
        url: https://github.com/KoromeloDev/MindMate/archive/refs/tags/v1.8.0-beta.tar.gz
        sha256: 94b85e586eb61d6bd3955e78afea4e309388595f2a3e8c2eaae28eab95a91f30
        x-checker-data:
          type: json
          url: https://api.github.com/repos/KoromeloDev/MindMate/tags
          version-query: map(.name | select(test("^v[\\d\\.]+-beta$"))) | first
          url-query: '"https://github.com/KoromeloDev/MindMate/archive/refs/tags/"
            + $version + ".tar.gz"'
